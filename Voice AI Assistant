sudo apt update
sudo apt install python3-pip
pip3 install vosk
pip3 install sounddevice

wget https://alphacephei.com/vosk/models/vosk-model-small-en-us-0.15.zip
unzip vosk-model-small-en-us-0.15.zip
mv vosk-model-small-en-us-0.15 model

import sounddevice as sd
import queue
import json
from vosk import Model, KaldiRecognizer

q = queue.Queue()

def callback(indata, frames, time, status):
    if status:
        print(status)
    q.put(bytes(indata))

model = Model("model")
recognizer = KaldiRecognizer(model, 16000)

with sd.RawInputStream(samplerate=16000, blocksize=8000, dtype='int16',
                       channels=1, callback=callback):
    print("üé§ Listening... Say something like 'start run' or 'pause music'")
    while True:
        data = q.get()
        if recognizer.AcceptWaveform(data):
            result = recognizer.Result()
            text = json.loads(result)["text"]
            print(f"You said: {text}")

            if "start run" in text:
                print("‚õ∑Ô∏è Logging: Started skiing!")
            elif "end run" in text:
                print("‚úÖ Logging: Ended skiing session.")
            elif "pause music" in text:
                print("üéµ (Pretend music paused)")
            elif "next song" in text:
                print("‚û°Ô∏è (Pretend next song triggered)")
